---
id: ddl-torznab
name: DDL Torznab
description: "French Direct Download Links indexer - Converts DDL sites to Torznab API"
language: fr-FR
type: public
encoding: UTF-8

links:
  - http://ddl-torznab:3000

settings:
  - name: baseurl
    type: text
    label: DDL Torznab URL
    default: "http://ddl-torznab:3000"
  - name: site
    type: select
    label: Source Site
    default: darkiworld
    options:
      darkiworld: Darkiworld
      zonetelecharger: ZoneTelechargement
      wawacity: WawaCity
  - name: hosters
    type: text
    label: Preferred Hosters (comma separated, empty for all)
    default: ""

caps:
  categorymappings:
    - {id: 2000, cat: Movies, desc: "Movies"}
    - {id: 2030, cat: Movies/SD, desc: "Movies/SD"}
    - {id: 2040, cat: Movies/HD, desc: "Movies/HD"}
    - {id: 2045, cat: Movies/UHD, desc: "Movies/4K"}
    - {id: 2060, cat: Movies/3D, desc: "Movies/3D"}
    - {id: 5000, cat: TV, desc: "TV"}
    - {id: 5030, cat: TV/SD, desc: "TV/SD"}
    - {id: 5040, cat: TV/HD, desc: "TV/HD"}
    - {id: 5045, cat: TV/UHD, desc: "TV/4K"}
    - {id: 5070, cat: TV/Anime, desc: "Anime"}
    - {id: 7000, cat: Books, desc: "Books"}
    - {id: 7010, cat: Books/Mags, desc: "Books/Magazines"}
    - {id: 7020, cat: Books/EBook, desc: "Books/eBooks"}
    - {id: 7030, cat: Books/Comics, desc: "Books/Comics"}

  modes:
    search: [q]
    tv-search: [q, season, ep, imdbid, tvdbid]
    movie-search: [q, imdbid, tmdbid]
    book-search: [q]

search:
  paths:
    - path: "{{ .Config.baseurl }}/api/{{ .Config.site }}{{ if .Config.hosters }}/{{ .Config.hosters }}{{ end }}"
      response:
        type: xml

  inputs:
    t: "{{ if .Query.IMDBID }}movie{{ else if .Query.TVDBID }}tvsearch{{ else }}search{{ end }}"
    q: "{{ .Keywords }}"
    imdbid: "{{ .Query.IMDBIDShort }}"
    tmdbid: "{{ .Query.TMDBID }}"
    tvdbid: "{{ .Query.TVDBID }}"
    season: "{{ .Query.Season }}"
    ep: "{{ .Query.Ep }}"
    limit: 100

  rows:
    selector: rss > channel > item

  fields:
    category:
      selector: category
    title:
      selector: title
    details:
      selector: comments
    download:
      selector: link
    size:
      selector: size
    date:
      selector: pubDate
    seeders:
      text: 100
    leechers:
      text: 0
    downloadvolumefactor:
      text: 0
    uploadvolumefactor:
      text: 1
